<form>
    <div class="md-form my-0">
        <input id="firstName" name="firstName" tabindex="10" />
        <label for="firstName">First Name</label>
    </div>
    <div class="md-form my-0"> <input id="lastName" name="lastName" tabindex="20" />
        <label for="lastName">Last Name</label>
    </div>
    <div class="md-form my-0" id="lihaveEmail">
        <input id="haveEmail" name="haveEmail" type="checkbox" tabindex="30" checked="true" />
        <label for="haveEmail">Do You Have An E-Mail?</label>
    </div>
    <div class="md-form my-0" id="liEmail">
        <input id="email" name="email" tabindex="40" />
        <label for="email">E-Mail</label>
    </div>
    <div class="md-form my-0">
        <button type="submit" id="btnSubmit" tabindex="100">Save</button>
    </div>
</form>


<script>
    var $emailCB = document.querySelector( "#haveEmail" ),
        $email = document.querySelector( "#liEmail" ),
        $ihaveEmail = document.querySelector( "#lihaveEmail" );

    $emailCB.addEventListener( "change", toggleEmail );

    function toggleEmail( e ) {

        e.preventDefault();

        if ( !$emailCB.checked ) {

            remove( $email );

        } else {

            var $x = document.createElement( 'div' );

            $x.classList.add( "md-form", "my-0" );
            $x.id = "liEmail";

            $x.innerHTML =
                "<label for='email'>E-Mail</label><input id='email' name='email' tabindex='40'></input></div>";

            insertAfter( $x, $ihaveEmail );

            $email = document.querySelector( "#liEmail" );

        }

        $emailCB.focus();

    }

    function remove( ele ) {

        ele.parentElement.removeChild( ele );

    }

    function insertAfter( newNode, referenceNode ) {

        referenceNode.parentNode.insertBefore( newNode, referenceNode.nextSibling );

    }
</script>